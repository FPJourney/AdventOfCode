/*
 * This Kotlin source file was generated by the Gradle 'init' task.
 */
package day1

import java.nio.file.Files
import kotlin.io.path.Path
import kotlin.math.abs

class App {
    val greeting: String
        get() {
            return "Hello World!"
        }
}

fun main() {
    println(App().greeting)
    val numPairs = Files.lines(Path("Input.txt"))
        .toList()
        .flatMap { str -> str.split("   ").zipWithNext() }
//    println(numPairs)
    val leftColumn = numPairs.map { it.first }.map { it.toInt() }.sorted()
    val rightColumn = numPairs.map { it.second }.map { it.toInt() }.sorted()
//    println(leftColumn)
//    println(rightColumn)
    println(leftColumn.zip(rightColumn) { a, b -> abs(b - a) }.sum())
    //part 2
    val appearances = leftColumn.map { n1 -> rightColumn.count { n2 -> n2 == n1 } }
    println(leftColumn.zip(appearances) { a, b -> a * b }.sum())
}